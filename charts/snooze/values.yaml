---

image:
  repo: ghcr.io/japannext/snooze
  tag: ""
  pullPolicy: IfNotPresent

auth_backends: {}

cacertConfigMap: ""

process:
  replicaCount: 2

apiserver:
  replicaCount: 2

mail:
  replicaCount: 2
  config:
    server: ""
    port: 25
    defaultSender: ""
    queue: "mail"
  profiles: []


alertmanager:
  replicaCount: 2
  instanceName: ""
syslog:
  replicaCount: 2
  instanceName: ""

pipeline:
  transform_rules: []
  profiles: []
  grouping_rules:
  - name: by-host-process
    if: 'log.Identity.kind == "host"'
    group_by:
    - log.Identity.host
    - log.Identity.process
  ratelimits:
  - name: by-source
    fields: [log.source.kind, log.source.name]
    burst: 10000
    period: 1m
  silence_rules: []
  notification_destinations: []
  default_notification_destinations:
  - {queue: dummy, profile: default}

podMonitor:
  enabled: true
  extraLabels: {}

ui:
  replicaCount: 2
  image:
    repo: ghcr.io/japannext/snooze-ui
    tag: ""
    pullPolicy: IfNotPresent

opensearch:
  enabled: true
  replicas: 3
  maxUnavailable: 1
  opensearchJavaOpts: '-Xmx2g -Xms2g'
  extraEnvs:
  - name: POD_NAME
    valueFrom: {fieldRef: {fieldPath: metadata.name}}
  - name: node.name
    value: ${POD_NAME}.opensearch-headless
  config:
    opensearch.yml: |-
      cluster.name: opensearch-cluster
      network.host: 0.0.0.0
      node.processors: 8
      plugins:
        security:
          ssl:
            transport:
              pemcert_filepath: tls/tls.crt
              pemkey_filepath: tls/tls.key
              pemtrustedcas_filepath: tls/ca.crt
              enforce_hostname_verification: false
              resolve_hostname: false
            http:
              enabled: true
              pemcert_filepath: tls/tls.crt
              pemkey_filepath: tls/tls.key
              pemtrustedcas_filepath: tls/ca.crt
          allow_unsafe_democertificates: true
          allow_default_init_securityindex: true
  sysctl:
    image:
      repo: busybox
      tag: latest
      pullPolicy: IfNotPresent

rabbitmq:
  enabled: true
  replicaCount: 3
  storageClassName: openebs-lvm-sysvg
  storageSize: 20Gi

ingress:
  enabled: false
  className: nginx
  host: ""
  dashboardHost: ""
  domain: ""
  certManager:
    enabled: false
    issuerKind: Issuer
    issuerName: default
